<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Connect4 - HackaGames</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link href="../../style.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">HackaGames</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../.." class="nav-link">ktorz <</a>
                            </li>
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">First-Steps <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../hello/install/" class="dropdown-item">Install</a>
</li>
                                    
<li>
    <a href="../../hello/first-bot/" class="dropdown-item">First Bot</a>
</li>
                                    
<li>
    <a href="../../hello/multi-player/" class="dropdown-item">Multi-Player</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Games <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../py421/" class="dropdown-item">Py4.2.1</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Connect4</a>
</li>
                                    
<li>
    <a href="../tictactoe/" class="dropdown-item">TicTacToe</a>
</li>
                                    
<li>
    <a href="../risky/" class="dropdown-item">Risky</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Learnning <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../learning/policy/" class="dropdown-item">Policy</a>
</li>
                                    
<li>
    <a href="../../learning/qlearning/" class="dropdown-item">Q-Learning</a>
</li>
                                    
<li>
    <a href="../../learning/learn-model/" class="dropdown-item">Learn Model</a>
</li>
                                    
<li>
    <a href="../../learning/decision-tree/" class="dropdown-item">Decision Tree</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Under the hood <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../hood/api/" class="dropdown-item">Protocol API</a>
</li>
                                    
<li>
    <a href="../../hood/pod/" class="dropdown-item">Pod Class</a>
</li>
                                    
<li>
    <a href="../../hood/newgame/" class="dropdown-item">New Game</a>
</li>
                                    
<li>
    <a href="../../hood/testdriven/" class="dropdown-item">Test-Driven</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../f.a.q/" class="nav-link">F.A.Q</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../py421/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../tictactoe/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#connect4" class="nav-link">Connect4</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#try-the-game" class="nav-link">Try the game:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#initialize-an-autonomous-player" class="nav-link">Initialize an Autonomous Player</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#customaize-your-bot" class="nav-link">Customaize your Bot:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="connect4">Connect4</h1>
<p><strong>Connect4</strong> is a <em>HackaGames</em> game, A simple two-player game where each player tries to align 4 of their pieces.</p>
<h2 id="try-the-game">Try the game:</h2>
<p>The <code>play/connect4.py</code> script starts the game with an interactive interface in a shell.</p>
<pre><code class="language-sh">python3 hackagames/play/connect4.py
</code></pre>
<p>The player can perform one and only one action at its turn, and the game stops automatically with a winner or when no more pieces can be set on the grid.</p>
<p>The actions consist of positioning a player's piece on one of the grid columns.
There are 7 possible actions: <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>E</code>, <code>F</code> and <code>G</code> for the corresponding column.</p>
<p>Example of the game at some point: </p>
<pre><code class="language-txt">  A   B   C   D   E   F   G
|   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |
|   |   |   | O |   |   |   |
|   |   | X | X |   |   |   |
| X | O | O | O |   |   | X |
-----------------------------
you: O
</code></pre>
<p>First player play 'O' and the second 'X'.
The first player aligning 4 of its pieces, in any direction win the game.</p>
<h2 id="initialize-an-autonomous-player">Initialize an Autonomous Player</h2>
<p>If you are implementing your first bot, please follow the <a href="../hello/first-bot">first bot</a> tutorial on Py421 game.</p>
<p>The <code>wakeUp</code> method informs about the mode of the game, the <code>perception</code> of the status of the grid and the possibilities of actions.
The hackagames <em>Connect4</em> package includes a very useful <em>Grid</em> class to manipulate the game state.</p>
<p>A minimal random <em>Bot</em> can be implemented in a few lines: </p>
<pre><code class="language-python">from hacka.games.connect4.grid import Grid
import random

class Bot :
    # Player interface :
    def wakeUp(self, playerId, numberOfPlayers, gamePod):
        assert( gamePod.family() == 'Connect4')
        self._playerId= playerId
        self._grid= Grid()

    def perceive(self, gameState):
        # update the game state:
        self._grid.fromPod( gameState )

    def decide(self):
        options = self._grid.possibilities()
        return random.choice( options )

    def sleep(self, result):
        pass
</code></pre>
<p>And can be tested thanks to a very simple launcher script:</p>
<pre><code class="language-python"># Setup a game:
from hacka.games.connect4 import GameConnect4 as Game
from hacka.games.connect4.firstBot import Bot as Opponent

# Setup your bot:
from myRandomBot import Bot

bot= Bot()
oppo= Opponent()

# Instanciate and start 100 games
game= Game()
results= game.test2Players( bot, oppo, 1000 )

# Analyze the result
print( f&quot;Average score: {sum(results[0])/len(results[0])} vs {sum(results[1])/len(results[1])}&quot; )
</code></pre>
<p>At this point, the results comparing the 2 Bot would be very close. The 2 bots have the same behavior.
To notice that, the list of actions do not filter positions already taken. However in case of wrong actions, the game will ask the player for a second call.</p>
<h2 id="customaize-your-bot">Customaize your Bot:</h2>
<p>You can explore the grid to select the best action possible.
Some useful <em>Gird</em> methods:</p>
<ul>
<li><code>columnSize(self)</code>: The number of columns (<em>7</em> in classical configuration)</li>
<li><code>heightMax(self)</code>: The height of the grid (<em>6</em> position per column in classical configuration)</li>
<li><code>height(self, iColumn)</code>: the actual height of the <em>iColumn</em> column (considered the played piece in this column)</li>
<li><code>column(self, iColumn)</code>: a list of integers modeling the <em>iColumn</em> column pieces (<em>0</em> no player, <em>1</em> player <em>1</em> and <em>2</em> player <em>2</em>)</li>
<li><code>position(self, c, h)</code>: The value at column <em>c</em> height <em>h</em> (<em>0</em>, <em>1</em> or <em>2</em>).</li>
</ul>
<p>To test a move you will need:</p>
<ul>
<li><code>copy(self)</code>: returning a deep copy of the grid (before to make some changes)</li>
<li><code>playerPlay(self, iPlayer, aLetter)</code>: to alter the grid considering that player <em>iPlayer</em> play on the <em>aLetter</em> column.</li>
<li><code>winner(self)</code>: returns the player Id winning the game if 4 of his pieces are aligned.</li>
<li><code>possibilities(self)</code>: returns the list of possible move (letters), if the columns are not full.</li>
</ul>
<p>To notice that you can move from column letter to the column identifier and vice versa with <code>chr</code> (a char from an integer) and <code>ord</code> (the interger code of a char).
For instance:</p>
<pre><code class="language-python">iColumn= ord(aLetter)-ord('A')
aLetter= chr( ord('A')+iColumn )
</code></pre>
<hr /></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../javascripts/mathjax.js"></script>
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
