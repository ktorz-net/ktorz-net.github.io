<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>TicTacToe - HackaGames</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link href="../../style.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">HackaGames</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../.." class="nav-link">ktorz <</a>
                            </li>
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">First-Steps <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../hello/install/" class="dropdown-item">Install</a>
</li>
                                    
<li>
    <a href="../../hello/first-bot/" class="dropdown-item">First Bot</a>
</li>
                                    
<li>
    <a href="../../hello/multi-player/" class="dropdown-item">Multi-Player</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Games <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../py421/" class="dropdown-item">Py4.2.1</a>
</li>
                                    
<li>
    <a href="../connect4/" class="dropdown-item">Connect4</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">TicTacToe</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Learnning <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../learning/policy/" class="dropdown-item">Policy</a>
</li>
                                    
<li>
    <a href="../../learning/qlearning/" class="dropdown-item">Q-Learning</a>
</li>
                                    
<li>
    <a href="../../learning/learn-model/" class="dropdown-item">Learn Model</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Under the hood <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../hood/api/" class="dropdown-item">Protocol API</a>
</li>
                                    
<li>
    <a href="../../hood/pod.md" class="dropdown-item">Pod Class</a>
</li>
                                    
<li>
    <a href="../../hood/newgame/" class="dropdown-item">New Game</a>
</li>
                                    
<li>
    <a href="../../hood/testdriven/" class="dropdown-item">Test-Driven</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../f.a.q/" class="nav-link">F.A.Q</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../connect4/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../learning/policy/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#tictactoe" class="nav-link">TicTacToe</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#try-the-game" class="nav-link">Try the game:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#ultimate-tictactoe" class="nav-link">Ultimate TicTacToe</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#initialize-a-bot" class="nav-link">Initialize a Bot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#customize-your-bot" class="nav-link">Customize your Bot:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="tictactoe">TicTacToe</h1>
<p><strong>TicTacToe</strong> is a <em>HackaGames</em> game, a simple two-player game where each player tries to align trees of their pieces.</p>
<p>It comes with two modes: <em>classic</em> and <em>ultimate</em>.</p>
<h2 id="try-the-game">Try the game:</h2>
<p>The <code>play/tictactoe.py</code> script starts the game with an interactive interface in a shell.</p>
<pre><code class="language-sh">python3 hackagames/play/tictactoe.py
</code></pre>
<p>In <em>ticTacToe</em>, the players can perform one and only one action at its turn, and the game stops automatically with a winner or when no more pieces can be set on the tabletop.</p>
<p>The actions consist of positioning a player's piece on the grid of the form: <code>coordinateLetter-coordinateNumber</code>.
There are 3 times 3 actions in <em>classic</em> mode: <code>A-1</code>, <code>A-2</code>, <code>A-3</code>, <code>B-1</code>, <code>B-2</code>, <code>B-3</code>, <code>C-1</code>, <code>C-2</code> and <code>C-3</code>.</p>
<p>Example of grid at some point: </p>
<pre><code class="language-txt">x: A B C
1  x    
2    o  
3  o   x
</code></pre>
<p>The letter at the up-left corner informs about the player pieces ('x' or 'o').
The first player aligning 3 of its pieces win the game.</p>
<h2 id="ultimate-tictactoe">Ultimate TicTacToe</h2>
<p>The <em>ultimate</em> mode is a hierarchical 2-levels <strong>TicTacToe</strong>. It is possible to activate the mode with a command parameter:</p>
<pre><code class="language-sh">python3 hackagames/play/tictactoe.py ultimate
</code></pre>
<p>The grid is composed of 9 times 9 cells, so potentially 9 times 9 actions for the players: <code>A-1</code>, <code>A-2</code>, ... , <code>A-9</code>, <code>B-1</code>, ... , `I-9.
In practice, most of the time, only a sub-number of actions are available.
The particularity in hierarchical <strong>TicTacToe</strong> is that, the piece position taken by a player in the <em>local</em> grid indicates the next grid to play for the next player turn.</p>
<p>Example of grid at some point: </p>
<pre><code class="language-txt">x: A B C   D E F   G H I
1  x     |       |      
2        |       |      
3    o   |       |      
  -------|-------|-------
4        |       |      
5        |       |      
6        |   o   |      
  -------|-------|-------
7        |       |      
8        |   x   |      
9        |       |      
actions: D:F-7:9
</code></pre>
<p>The line <code>actions: D:F-7:9</code> indicate that it is possible to play in any free position between <code>D</code> and <code>F</code> and <code>7</code> and <code>9</code>, so : <code>D-7</code>, <code>D-8</code>, <code>D-9</code>, <code>E-7</code>, <code>E-9</code>, <code>F-7</code>, <code>F-8</code> or <code>F-9</code>.
At the beginning of the game, it is possible to play in a corner grid, a side grid or the center grid. That for the action line indicates: <code>actions: A:C-1:3, A:C-4:6, D:F-4:6</code></p>
<p>The players have to win 3 aligned <em>classic</em> grids to win a <em>Ultimate</em> <strong>TicTacToe</strong>.</p>
<h2 id="initialize-a-bot">Initialize a Bot</h2>
<p>If you are implementing your first bot, please follow the <a href="../hello/first-bot">first bot</a> tutorial on Py421 game.</p>
<p>The <code>wakeUp</code> method informs about the mode of the game, the <code>perception</code> of the status of the grid and the possibilities of actions.
The hackagames <em>Tictactoe</em> package includes a very useful <em>Grid</em> class to manipulate the game state.</p>
<p>A minimal random <em>Bot</em> can be implemented in a few lines: </p>
<pre><code class="language-python">from hacka.games.tictactoe.grid import Grid
import random

class Bot :
    # Player interface :
    def wakeUp(self, playerId, numberOfPlayers, gamePod ):
        assert( gamePod.family() == 'TicTacToe')
        assert( gamePod.status() in ['Classic', 'Ultimate'] )
        self._playerId= playerId
        self._grid= Grid( gamePod.status() )
        self._possibilities= [1]

    def perceive(self, gameState):
        # Update the grid:
        self._grid.update( gameState.children()[:-1] )
        self._possibilities= gameState.children()[-1].flags()

    def decide(self):
        # Get all actions
        actions= self._grid.possibleActions( self._possibilities )
        # Select one 
        return random.choice( actions )

    def sleep(self, result):
        pass
</code></pre>
<p>And can be tested thanks to a very simple launcher script:</p>
<pre><code class="language-python"># Setup a game:
from hacka.games.tictactoe import GameTTT as Game
from hacka.games.tictactoe.firstBot import Bot as Opponent

# Setup your bot:
from myRandomBot import Bot

bot= Bot()
oppo= Opponent()

# Instanciate and start 100 games
game= Game(&quot;classic&quot;) # can be set to &quot;ultimate&quot;
results= game.test2Players( bot, oppo, 1000 )

# Analyze the result
print( f&quot;Average score: {sum(results[0])/len(results[0])} vs {sum(results[1])/len(results[1])}&quot; )
</code></pre>
<p>At this point, the results comparing the 2 Bot would be very close. The 2 bots have the same behavior.
To notice that, the list of actions do not filter positions already taken. However in case of wrong actions, the game will ask the player for a second call.</p>
<h2 id="customize-your-bot">Customize your Bot:</h2>
<p>The <em>Grid</em> object provide for two main methods: <code>at(abs, ord)</code>, returning a cell value (for instance <code>grid.at('A', 2)</code><span class="arithmatex">\(\rightarrow\)</span><code>0</code> if the cell is empty) and <code>at_set(abs, ord, aValue)</code> to set a specific value on a specific cell.</p>
<p>From that point you can crate your own evaluation of the grid and which action is interesting.
You can also import the <code>tictactoe/engine</code> class for a more complete toolbox (test actions, etc.)</p>
<hr /></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../javascripts/mathjax.js"></script>
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
