<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>TicTacToe - HackaGames</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "TicTacToe";
        var mkdocs_page_input_path = "games/tictactoe.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> HackaGames
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../../..">ktorz <</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">First-Steps</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../hello/install/">Install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hello/first-bot/">First Bot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hello/multi-player/">Multiplayer</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Games</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../py421/">Py4.2.1</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../connect4/">Connect4</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">TicTacToe</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tuto: Learning</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../learning/policy/">Policy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../learning/qlearning/">Q-Learning</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../learning/model-based/">Model Based</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../learning/speed-up/">Speed-up</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Under the hood</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../hood/api/">Protocol API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hood/pod/">Pod Class</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hood/newgame/">New Game</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hood/testdriven/">Test-Driven</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">HackaGames</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Games</li>
      <li class="breadcrumb-item active">TicTacToe</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="tictactoe">TicTacToe</h1>
<p><strong>TicTacToe</strong> is a <em>HackaGames</em> game, a simple two-player game where each player tries to align trees of their pieces.</p>
<p>It comes with two modes: <em>classic</em> and <em>ultimate</em>.</p>
<h2 id="try-the-game">Try the game:</h2>
<p>The <code>play/tictactoe.py</code> script starts the game with an interactive interface in a shell.</p>
<pre><code class="language-sh">python3 hackagames/play/tictactoe.py
</code></pre>
<p>In <em>ticTacToe</em>, the players can perform one and only one action at its turn, and the game stops automatically with a winner or when no more pieces can be set on the tabletop.</p>
<p>The actions consist of positioning a player's piece on the grid of the form: <code>coordinateLetter-coordinateNumber</code>.
There are 3 times 3 actions in <em>classic</em> mode: <code>A-1</code>, <code>A-2</code>, <code>A-3</code>, <code>B-1</code>, <code>B-2</code>, <code>B-3</code>, <code>C-1</code>, <code>C-2</code> and <code>C-3</code>.</p>
<p>Example of grid at some point: </p>
<pre><code class="language-txt">x: A B C
1  x    
2    o  
3  o   x
</code></pre>
<p>The letter at the up-left corner informs about the player pieces ('x' or 'o').
The first player aligning 3 of its pieces win the game.</p>
<h2 id="ultimate-tictactoe">Ultimate TicTacToe</h2>
<p>The <em>ultimate</em> mode is a hierarchical 2-levels <strong>TicTacToe</strong>. It is possible to activate the mode with a command parameter:</p>
<pre><code class="language-sh">python3 hackagames/play/tictactoe.py ultimate
</code></pre>
<p>The grid is composed of 9 times 9 cells, so potentially 9 times 9 actions for the players: <code>A-1</code>, <code>A-2</code>, ... , <code>A-9</code>, <code>B-1</code>, ... , `I-9.
In practice, most of the time, only a sub-number of actions are available.
The particularity in hierarchical <strong>TicTacToe</strong> is that, the piece position taken by a player in the <em>local</em> grid indicates the next grid to play for the next player turn.</p>
<p>Example of grid at some point: </p>
<pre><code class="language-txt">x: A B C   D E F   G H I
1  x     |       |      
2        |       |      
3    o   |       |      
  -------|-------|-------
4        |       |      
5        |       |      
6        |   o   |      
  -------|-------|-------
7        |       |      
8        |   x   |      
9        |       |      
actions: D:F-7:9
</code></pre>
<p>The line <code>actions: D:F-7:9</code> indicate that it is possible to play in any free position between <code>D</code> and <code>F</code> and <code>7</code> and <code>9</code>, so : <code>D-7</code>, <code>D-8</code>, <code>D-9</code>, <code>E-7</code>, <code>E-9</code>, <code>F-7</code>, <code>F-8</code> or <code>F-9</code>.
At the beginning of the game, it is possible to play in a corner grid, a side grid or the center grid. That for the action line indicates: <code>actions: A:C-1:3, A:C-4:6, D:F-4:6</code></p>
<p>The players have to win 3 aligned <em>classic</em> grids to win a <em>Ultimate</em> <strong>TicTacToe</strong>.</p>
<h2 id="initialize-a-bot">Initialize a Bot</h2>
<p>If you are implementing your first bot, please follow the <a href="../hello/first-bot">first bot</a> tutorial on Py421 game.</p>
<p>The <code>wakeUp</code> method informs about the mode of the game, the <code>perception</code> of the status of the grid and the possibilities of actions.
The hackagames <em>Tictactoe</em> package includes a very useful <em>Grid</em> class to manipulate the game state.</p>
<p>A minimal random <em>Bot</em> can be implemented in a few lines: </p>
<pre><code class="language-python">from hacka.games.tictactoe.grid import Grid
import random

class Bot :
    # Player interface :
    def wakeUp(self, playerId, numberOfPlayers, gamePod ):
        assert( gamePod.family() == 'TicTacToe')
        assert( gamePod.status() in ['Classic', 'Ultimate'] )
        self._playerId= playerId
        self._grid= Grid( gamePod.status() )
        self._possibilities= [1]

    def perceive(self, gameState):
        # Update the grid:
        self._grid.update( gameState.children()[:-1] )
        self._possibilities= gameState.children()[-1].integers()

    def decide(self):
        # Get all actions
        actions= self._grid.possibleActions( self._possibilities )
        # Select one 
        return random.choice( actions )

    def sleep(self, result):
        pass
</code></pre>
<p>And can be tested thanks to a very simple launcher script:</p>
<pre><code class="language-python"># Setup a game:
from hacka.games.tictactoe import GameTTT as Game
from hacka.games.tictactoe.firstBot import Bot as Opponent

# Setup your bot:
from myRandomBot import Bot

bot= Bot()
oppo= Opponent()

# Instanciate and start 100 games
game= Game(&quot;classic&quot;) # can be set to &quot;ultimate&quot;
results= game.test2Players( bot, oppo, 1000 )

# Analyze the result
print( f&quot;Average score: {sum(results[0])/len(results[0])} vs {sum(results[1])/len(results[1])}&quot; )
</code></pre>
<p>At this point, the results comparing the 2 Bot would be very close. The 2 bots have the same behavior.
To notice that, the list of actions do not filter positions already taken. However in case of wrong actions, the game will ask the player for a second call.</p>
<h2 id="customize-your-bot">Customize your Bot:</h2>
<p>The <em>Grid</em> object provide for two main methods: <code>at(abs, ord)</code>, returning a cell value (for instance <code>grid.at('A', 2)</code><span class="arithmatex">\(\rightarrow\)</span><code>0</code> if the cell is empty) and <code>at_set(abs, ord, aValue)</code> to set a specific value on a specific cell.</p>
<p>From that point you can crate your own evaluation of the grid and which action is interesting.
You can also import the <code>tictactoe/engine</code> class for a more complete toolbox (test actions, etc.)</p>
<hr />
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../connect4/" class="btn btn-neutral float-left" title="Connect4"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../learning/policy/" class="btn btn-neutral float-right" title="Policy">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../connect4/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../learning/policy/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../javascripts/mathjax.js"></script>
      <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
